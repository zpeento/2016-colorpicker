<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>一个简单的取色器</title>
	<script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body>
	<canvas width="500" height="500"></canvas>
	<h4>点击图片会显示点击位置的RGBa值。</h4>
	<script>
		var canvas = $("canvas");
		var ctx = canvas[0].getContext('2d');
		// console.log(ctx);
		var image = new Image();
		image.src = "example.jpg";
		$(image).load(function(){
			// alert(image);
			ctx.drawImage(image,0,0,500,500);
			canvas.click(function(e){
				console.log(0);
				var canvasOffset = canvas.offset();
				var canvasX = Math.floor(e.pageX - canvasOffset.left);
				var canvasY = Math.floor(e.pageY - canvasOffset.top);

				var pixels = ctx.getImageData(canvasX,canvasY,1,1);
				var pixel = pixels.data;
				console.log(1);
				var rgba = "RGBa值为:( "+pixel[0]+", "+pixel[1]+", "+pixel[2]+", "+pixel[3]+" )";
				alert(rgba);

			})
		})

		
	</script>
</body>
</html>